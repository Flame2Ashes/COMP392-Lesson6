{"version":3,"sources":["core/game.ts"],"names":["init","addControl","addStatsObject","gameLoop","setupRenderer","setupCamera"],"mappings":"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","file":"core/game.js","sourcesContent":["/// <reference path=\"_reference.ts\"/>\n\n// MAIN GAME FILE\n\n// THREEJS Aliases\nimport Scene = THREE.Scene;\nimport Renderer = THREE.WebGLRenderer;\nimport PerspectiveCamera = THREE.PerspectiveCamera;\nimport BoxGeometry = THREE.BoxGeometry;\nimport CubeGeometry = THREE.CubeGeometry;\nimport PlaneGeometry = THREE.PlaneGeometry;\nimport SphereGeometry = THREE.SphereGeometry;\nimport Geometry = THREE.Geometry;\nimport AxisHelper = THREE.AxisHelper;\nimport LambertMaterial = THREE.MeshLambertMaterial;\nimport MeshBasicMaterial = THREE.MeshBasicMaterial;\nimport Material = THREE.Material;\nimport Mesh = THREE.Mesh;\nimport Object3D = THREE.Object3D;\nimport SpotLight = THREE.SpotLight;\nimport PointLight = THREE.PointLight;\nimport AmbientLight = THREE.AmbientLight;\nimport Control = objects.Control;\nimport GUI = dat.GUI;\nimport Color = THREE.Color;\nimport Vector3 = THREE.Vector3;\nimport Face3 = THREE.Face3;\nimport Point = objects.Point;\nimport CScreen = config.Screen;\nimport Clock = THREE.Clock;\nimport FirstPersonControls = THREE.FirstPersonControls;\n\n//Custom Game Objects\nimport gameObject = objects.gameObject;\n\nvar game = (() => {\n    \nvar scene: Scene;\nvar renderer: Renderer;\nvar camera: PerspectiveCamera;\nvar axes: AxisHelper;\nvar sphere: Mesh;\nvar plane: Mesh;\nvar sphereGeometry:SphereGeometry;\nvar sphereMaterial:LambertMaterial;\nvar ambientLight: AmbientLight;\nvar spotLight: SpotLight;\nvar control: Control;\nvar gui: GUI;\nvar stats: Stats;\nvar step: number = 0;\nvar clock: Clock;\nvar firstPersonControls: FirstPersonControls;\n\n\nfunction init() {\n    // Instantiate a new Scene object\n    scene = new Scene();\n\n    //setup a THREE.JS Clock object\n    \n    clock = new Clock();\n    \n    setupRenderer(); // setup the default renderer\n\t\n    setupCamera(); // setup the camera\n    \n\n    \n    //Add a Plane to the Scene\n    plane = new gameObject(\n        new PlaneGeometry(20, 20, 1, 1),\n        new LambertMaterial({ color: 0xf4a460 }),\n        0, 0, 0);\n    plane.name = \"ground\";\n    plane.rotation.x = -0.5 * Math.PI;\n\n    scene.add(plane);\n    console.log(\"Added Plane Primitive to scene...\");\n    \n\n    //Add sphere to the scene\n    \n    sphereGeometry = new SphereGeometry(2.5, 32, 32);\n    sphereMaterial = new LambertMaterial({color: 0xff0000});\n    sphere = new gameObject(sphereGeometry, sphereMaterial, 0, 2.5, 0);\n    sphere.name = \"The Red Planet\";\n    scene.add(sphere);\n    \n    console.log(\"Added Sphere to scene\");\n    \n      // setup first person controls\n        firstPersonControls = new FirstPersonControls(sphere);\n        firstPersonControls.lookSpeed = 0.4;\n        firstPersonControls.movementSpeed  = 10;\n        firstPersonControls.lookVertical = true;\n        firstPersonControls.constrainVertical = true;\n        firstPersonControls.verticalMin = 0;\n        firstPersonControls.verticalMax = 2.0;\n        firstPersonControls.lon = -150;\n        firstPersonControls.lat = 120;\n        \n        console.log(firstPersonControls.target);\n    \n          // add an axis helper to the scene\n    axes = new AxisHelper(20);\n    sphere.add(axes);\n    console.log(\"Added Axis Helper to scene...\");\n    \n    \n    // Add an AmbientLight to the scene\n    ambientLight = new AmbientLight(0x090909);\n    scene.add(ambientLight);\n    console.log(\"Added an Ambient Light to Scene\");\n\t\n    // Add a SpotLight to the scene\n    spotLight = new SpotLight(0xffffff);\n    spotLight.position.set(5.6, 23.1, 5.4);\n    spotLight.rotation.set(-0.8, 42.7, 19.5);\n    spotLight.intensity = 2;\n    spotLight.castShadow = true;\n    spotLight.angle = 60 * (Math.PI / 180);\n    spotLight.distance = 500;\n    spotLight.shadowCameraNear = 1;\n    spotLight.shadowMapHeight = 2048;\n    spotLight.shadowMapWidth = 2048;\n    scene.add(spotLight);\n    console.log(\"Added a SpotLight Light to Scene\");\n    \n    // add controls\n    gui = new GUI();\n    control = new Control(0.05);\n    addControl(control);\n\n    // Add framerate stats\n    addStatsObject();\n    console.log(\"Added Stats to scene...\");\n\n    document.body.appendChild(renderer.domElement);\n    gameLoop(); // render the scene\t\n    \n}\n\n\nfunction addControl(controlObject: Control): void {\n    gui.add(controlObject, 'rotationSpeed', -0.5, 0.5);\n}\n\nfunction addStatsObject() {\n    stats = new Stats();\n    stats.setMode(0);\n    stats.domElement.style.position = 'absolute';\n    stats.domElement.style.left = '0px';\n    stats.domElement.style.top = '0px';\n    document.body.appendChild(stats.domElement);\n}\n\n// Setup main game loop\nfunction gameLoop(): void {\n    stats.update();\n      var delta:number = clock.getDelta();\n\n    sphere.rotation.y += control.rotationSpeed;\n    firstPersonControls.update(delta);\n    \n    // render using requestAnimationFrame\n    requestAnimationFrame(gameLoop);\n\t\n    // render the scene\n    renderer.render(scene, camera);\n}\n\n// Setup default renderer\nfunction setupRenderer(): void {\n    renderer = new Renderer();\n    renderer.setClearColor(0xEEEEEE, 1.0);\n    renderer.setSize(CScreen.WIDTH, CScreen.HEIGHT);\n    //renderer.setSize(window.innerWidth, window.innerHeight);\n    renderer.shadowMap.enabled = true;\n    console.log(\"Finished setting up Renderer...\");\n}\n\n// Setup main camera for the scene\nfunction setupCamera(): void {\n    camera = new PerspectiveCamera(45, config.Screen.RATIO, 0.1, 1000);\n    //camera = new PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);\n    camera.position.x = 0.6;\n    camera.position.y = 16;\n    camera.position.z = -20.5;\n    camera.lookAt(new Vector3(0, 0, 0));\n    console.log(\"Finished setting up Camera...\");\n}\n\n    window.onload = init;\n    \n    return {\n        scene:scene\n    }\n})();\n\n\n"],"sourceRoot":"/source/"}